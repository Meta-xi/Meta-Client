import{a as v,m as R}from"./chunk-GP7BZZWX.js";import{Fb as u,Gb as w,Hb as y,Ka as o,La as x,Z as p,ab as h,d as f,fa as S,ga as C,jb as i,kb as e,lb as c,ob as P,qb as I,r as g,wb as b,xb as n,yb as d,zb as m}from"./chunk-HLI2SXL3.js";var L=(()=>{let l=class l{constructor(a){this.http=a,this.code="",this.link="",this.username=localStorage.getItem("username")||""}ngOnInit(){this.GetCode()}GetCode(){return f(this,null,function*(){try{this.link=yield this.GettingCode(),this.code=this.extractCodeFromUrl(this.link),console.log(this.link)}catch(a){console.error(a.message)}})}GettingCode(){return f(this,null,function*(){let a="https://meta-api-production-3abd.up.railway.app/api/User/GetLink/"+this.username;try{let t=yield g(this.http.get(a));return console.log(t.link),t.link}catch(t){let r="";if(t.error)return typeof t.error=="string"?r=t.error:t.error.message&&(r=t.error.message),r}})}extractCodeFromUrl(a){return new URL(a).searchParams.get("code")||""}copyToClipboard(a,t){navigator.clipboard.writeText(a).then(()=>{t.textContent="Copied",setTimeout(()=>{t.textContent="Copiar"},1e3)}).catch(r=>{console.error("Error al copiar al portapapeles:",r)})}};l.\u0275fac=function(t){return new(t||l)(x(v))},l.\u0275cmp=p({type:l,selectors:[["app-invitation"]],standalone:!0,features:[u],decls:18,vars:2,consts:[["codeButton",""],["linkButton",""],[1,"w-full","flex","flex-col","gap-1","grad","text-black","rounded-xl","p-4"],[1,"text-sm"],[1,"w-full","flex","items-center","justify-between"],[1,"text-2xl","font-bold"],[1,"bg-black","py-0.5","px-3","text-sm","rounded-xl","text-white",3,"click"],[1,"w-full","flex","flex-col"],[1,"truncate","overflow-hidden","text-ellipsis"],[1,"bg-black","py-0.5","px-3","text-sm","rounded-xl","text-white","ml-4",3,"click"]],template:function(t,r){if(t&1){let T=P();i(0,"article",2)(1,"h5",3),n(2,"C\xF3digo de invitaci\xF3n: "),e(),i(3,"div",4)(4,"p",5),n(5),e(),i(6,"button",6,0),I("click",function(){S(T);let E=b(7);return C(r.copyToClipboard(r.code,E))}),n(8,"Copiar"),e()(),i(9,"div",7)(10,"p",3),n(11,"Comparte tu enlace de referencia y comienza a ganar plata."),e(),i(12,"div",4)(13,"p",8),n(14),e(),i(15,"button",9,1),I("click",function(){S(T);let E=b(16);return C(r.copyToClipboard(r.link,E))}),n(17,"Copiar"),e()()()()}t&2&&(o(5),d(r.code),o(9),d(r.link))}});let s=l;return s})();var q=(()=>{let l=class l{constructor(a){this.http=a,this.teamSize=0,this.recharge=0,this.withdraw=0,this.newTeam=0,this.rechargeFirst=0,this.firstWithdraw=0,this.username=localStorage.getItem("username")||""}ngOnInit(){this.GettingTeamDates()}GettingTeamDates(){return f(this,null,function*(){let a="https://meta-api-production-3abd.up.railway.app/api/Refer/GetTeamParameters/"+this.username;try{let t=yield g(this.http.get(a));console.log(t),this.teamSize=t.teamSize||0,this.recharge=t.teamRecharge||0,this.newTeam=t.newTeamToday||0,this.rechargeFirst=t.newTeamTodayRecharge||0,this.firstWithdraw=t.teamWithdrawToday||0,this.withdraw=t.teamWithdraw||0}catch(t){console.error("Error al obtener los datos de la equipo",t)}})}};l.\u0275fac=function(t){return new(t||l)(x(v))},l.\u0275cmp=p({type:l,selectors:[["app-selection"]],standalone:!0,features:[u],decls:45,vars:6,consts:[[1,"w-full","flex","items-center","gap-2","text-sm","mb-2"],["src","assets/icons/selccion.png","alt","selec",1,"w-7"],[1,"w-full","flex","justify-between","gap-2","items-center","p-1","bg-blue-950","rounded-xl","text-center"],[1,"flex","flex-col","items-center","justify-around","w-1/3"],[1,"p-1","flex","flex-grow","items-center","flex-col"],[1,"text-sm","text-slate-400"],[1,"text-center"],[1,"text-center","flex","gap-2","items-center"],[1,"font-medium","text-lg"]],template:function(t,r){t&1&&(i(0,"span",0),c(1,"img",1),n(2,` Datos del equipo
`),e(),i(3,"div",2)(4,"div",3)(5,"span",4)(6,"p",5),n(7," Tama\xF1o del equipo "),e(),i(8,"span",6),n(9),e()(),i(10,"span",4)(11,"p",5),n(12," Nuevo equipo hoy "),e(),i(13,"span",6),n(14),e()()(),i(15,"div",3)(16,"span",4)(17,"p",5),n(18," Recarga de equipo "),e(),i(19,"span",7)(20,"p",8),n(21),e(),n(22," COP "),e()(),i(23,"span",4)(24,"p",5),n(25," Recargas hoy "),e(),i(26,"span",7)(27,"p",8),n(28),e(),n(29," COP "),e()()(),i(30,"div",3)(31,"span",4)(32,"p",5),n(33," Retiro del equipo "),e(),i(34,"span",7)(35,"p",8),n(36),e(),n(37," COP "),e()(),i(38,"span",4)(39,"p",5),n(40," Retiros hoy "),e(),i(41,"span",7)(42,"p",8),n(43),e(),n(44," COP "),e()()()()),t&2&&(o(9),m(" ",r.teamSize," "),o(5),m(" ",r.newTeam," "),o(7),d(r.recharge),o(7),d(r.rechargeFirst),o(8),d(r.withdraw),o(7),d(r.firstWithdraw))}});let s=l;return s})();var j=()=>["/lvl",1],F=s=>({ingreso:s}),G=()=>["/lvl",2],O=()=>["/lvl",3],M=(()=>{let l=class l{constructor(a){this.http=a,this.username=localStorage.getItem("username")||"",this.lvl1={register:0,totalIncome:0},this.lvl2={register:0,totalIncome:0},this.lvl3={register:0,totalIncome:0}}ngOnInit(){this.GettingRefers()}GettingRefers(){return f(this,null,function*(){let a="https://meta-api-production-3abd.up.railway.app/api/Refer/GetReferrer/"+this.username;try{let t=yield g(this.http.get(a));this.lvl1.register=t.quantityRefersLevel1||0,this.lvl1.totalIncome=t.level1Earnings||0,this.lvl2.register=t.quantityRefersLevel2||0,this.lvl2.totalIncome=t.level2Earnings||0,this.lvl3.register=t.quantityRefersLevel3||0,this.lvl3.totalIncome=t.level3Earnings||0}catch(t){console.error("Error al obtener los referidos",t)}})}};l.\u0275fac=function(t){return new(t||l)(x(v))},l.\u0275cmp=p({type:l,selectors:[["app-level"]],standalone:!0,features:[u],decls:61,vars:21,consts:[[1,"w-full","flex","items-center","justify-center","gap-2","pb-20"],[1,"w-full","lvl3-grad","flex","flex-col","items-center","gap-2","p-2.5","rounded-lg"],[1,"flex","justify-between","items-center"],["src","assets/lvl/lvl1.png","alt","lvl1",1,"w-20","-ml-7","-mr-5"],[1,"font-semibold","text-lg","-ml-2"],[1,"flex","sm:w-full","flex-col","px-1","py-2","gap-2","text-center","bg-[#32373d75]","rounded-xl"],[1,"flex","flex-col","items-center","gap-1"],[1,"text-xs"],[1,"w-full","btn-grad","rounded-xl","text-xs","py-1","px-2",3,"routerLink","queryParams"],[1,"w-full","lvl1-grad","flex","flex-col","items-center","gap-2","p-2.5","rounded-lg"],["src","assets/lvl/lvl2.png","alt","lvl2",1,"w-20","-ml-7","-mr-5"],[1,"w-full","lvl2-grad","flex","flex-col","items-center","gap-2","p-2.5","rounded-lg"],["src","assets/lvl/lvl3.png","alt","lvl3",1,"w-20","-ml-7","-mr-5"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"section",1)(2,"div",2),c(3,"img",3),i(4,"p",4),n(5,"Lev 1"),e()(),i(6,"article",5)(7,"span",6)(8,"p",7),n(9,"Registro"),e(),n(10),e(),i(11,"span",6)(12,"p",7),n(13,"Porcentaje de comisi\xF3n"),e(),n(14," 8% "),e(),i(15,"span",6)(16,"p",7),n(17,"Ingresos totales"),e(),n(18),e()(),i(19,"button",8),n(20,"Detalles"),e()(),i(21,"section",9)(22,"div",2),c(23,"img",10),i(24,"p",4),n(25,"Lev 2"),e()(),i(26,"article",5)(27,"span",6)(28,"p",7),n(29,"Registro"),e(),n(30),e(),i(31,"span",6)(32,"p",7),n(33,"Porcentaje de comisi\xF3n"),e(),n(34," 5% "),e(),i(35,"span",6)(36,"p",7),n(37,"Ingresos totales"),e(),n(38),e()(),i(39,"button",8),n(40,"Detalles"),e()(),i(41,"section",11)(42,"div",2),c(43,"img",12),i(44,"p",4),n(45,"Lev 3"),e()(),i(46,"article",5)(47,"span",6)(48,"p",7),n(49,"Registro"),e(),n(50),e(),i(51,"span",6)(52,"p",7),n(53,"Porcentaje de comisi\xF3n"),e(),n(54," 2% "),e(),i(55,"span",6)(56,"p",7),n(57,"Ingresos totales"),e(),n(58),e()(),i(59,"button",8),n(60,"Detalles"),e()()()),t&2&&(o(10),m(" ",r.lvl1.register," "),o(8),m(" ",r.lvl1.totalIncome," "),o(),h("routerLink",w(12,j))("queryParams",y(13,F,r.lvl1.totalIncome)),o(11),m(" ",r.lvl2.register," "),o(8),m(" ",r.lvl2.totalIncome," "),o(),h("routerLink",w(15,G))("queryParams",y(16,F,r.lvl2.totalIncome)),o(11),m(" ",r.lvl3.register," "),o(8),m(" ",r.lvl3.totalIncome," "),o(),h("routerLink",w(18,O))("queryParams",y(19,F,r.lvl3.totalIncome)))},dependencies:[R],styles:[".lvl1-grad[_ngcontent-%COMP%]{background:linear-gradient(220.55deg,#39a0ff,#8fff85)}.lvl2-grad[_ngcontent-%COMP%]{background:linear-gradient(220.55deg,#ffbb89,#7b6ae0)}.lvl3-grad[_ngcontent-%COMP%]{background:linear-gradient(220.55deg,#ff3f3f,#063cff)}.btn-grad[_ngcontent-%COMP%]{background:linear-gradient(220.55deg,#fadd76,#9f3311)}"]});let s=l;return s})();var Z=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=p({type:l,selectors:[["app-team"]],standalone:!0,features:[u],decls:4,vars:0,consts:[[1,"w-full","flex","flex-col","items-center","gap-4"],[1,"w-full"]],template:function(t,r){t&1&&(i(0,"section",0),c(1,"app-invitation",1)(2,"app-selection",1)(3,"app-level",1),e())},dependencies:[L,q,M]});let s=l;return s})();export{Z as TeamComponent};
